<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Circular Progress Loader</title>
<style>
  .loader {
    display: inline-block;
    width: 80px;
    height: 80px;
    margin: 100px;
  }
  .loader:after {
    content: " ";
    display: block;
    width: 64px;
    height: 64px;
    margin: 8px;
    border-radius: 50%;
    border: 6px solid #ccc;
    border-color: #ccc transparent #ccc transparent;
    animation: loader-spin 1.2s linear infinite;
  }
  @keyframes loader-spin {
    0% {
      transform: rotate(0deg);
    }
    100% {
      transform: rotate(360deg);
    }
  }
</style>
</head>
<body>
  https://youtu.be/eS6OsLmLdqY
  <iframe autoplay=1 muted=1 width="100%" height="500" style="max-width:860px; max-height:500px;" src="https://www.youtube.com/embed/eS6OsLmLdqY?si=eKYAfDGVDv08nsDG&controls=1&autoplay=1&mute=1&loop=1&playlist=eS6OsLmLdqY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
  <iframe autoplay="1" muted="1" width="100%" height="500" style="max-width:860px; max-height:500px;" src="https://www.youtube.com/embed/eS6OsLmLdqY?si=eKYAfDGVDv08nsDG&controls=1&autoplay=1&mute=1&loop=1&playlist=eS6OsLmLdqY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
  <iframe autoplay=1 muted=1 width="100%" height="350" style="max-width:560px;" src="https://www.youtube.com/embed/eS6OsLmLdqY?si=eKYAfDGVDv08nsDG&controls=1&autoplay=1&mute=1&loop=1&playlist=eS6OsLmLdqY" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen=""></iframe>
<div class="loader"></div>

<script>
// 08 / 22 main banner renewal
let mainSwiper = new Swiper('.swiper-container.main__banner', {
  slidesPerView: 1,
  loop: true,
  speed: 1000,
  effect: 'fade',
  autoplay: {
    delay: 4000,
    disableOnInteraction: false,
  },
  pagination: {
    el: '.main__banner .swiper-pagination.count',
    type: 'fraction'
  },
  navigation: {
    nextEl: '.main__banner .swiper-next',
    prevEl: '.main__banner .swiper-prev',
  },
});

mainSwiper.on('slideChange', function () {
  updateNavColor();
  createProgressBar();
});


const totalSlideEl = document.querySelector(".main__banner .swiper-pagination-total");
const currentSlideEl = document.querySelector(".main__banner .swiper-pagination-current");

function updateNavColor() {
  const currentActive = mainSwiper.slides[mainSwiper.activeIndex];
  const currentTextBlock = currentActive.querySelector(".text__block");
  const navigationWrap = document.querySelector(".navigation__wrap");
  if (currentTextBlock.classList.contains("black")) {
    navigationWrap.classList.add("black");
  } else {
    navigationWrap.classList.remove("black");
  }
}

function createProgressBar() {
  const totalCount = totalSlideEl.textContent;
  const currentCount = currentSlideEl.textContent;
  let progressBar = document.querySelector('.main__banner .progress-bar');

  const progressPercentage = (currentCount / totalCount) * 100;

  progressBar.style.width = `${progressPercentage}%`;
}

updateNavColor();
createProgressBar();
// 08 / 22 main banner renewal
  
</script>
</body>
</html>
